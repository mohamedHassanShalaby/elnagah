let posts = [
  // Array of posts remove this array and get the posts from the server
  {
    title: "كيف تختار اللابتوب المناسب",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },

  {
    title: "العنوان الثاني",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },

  {
    title: "تعلم البرمجة من الصفر",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "افضل لغات البرمجة للتعلم في 2021",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "كيف تختار اطار عمل لموقعك الالكتروني",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "هل انت مناسب لتعلم البرمجة؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "اصول تصميم واجهات المستخدم UX/UI",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "اصعب لغات البرمجة في العالم",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "كيف تصبح مطور برمجيات ناجح؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "ما هي مادة الحاسوب؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "لماذا هندسة البرمجيات مهمة؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "ما فائدة تعلم البرمجة؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "افضل الكورسات لتعلم البرمجة عبر الانترنت",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "نحن نعيش في عصر البرمجة والتكنولوجيا",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
  {
    title: "كيف تصبح مطور ويب ناجح؟",
    category: "الحاسوب",
    author: "عبدالعزيز الجمال",
    date: "12 يوليو 2021",
    content:
      "مادة الحاسوب هي تخصص دراسي يهتم بالتفاعل مع الحواسيب وفهم كيفية عملها واستخدامها بشكل فعّال. تتنوع المواضيع التي يغطيها هذا التخصص من تاريخ الحوسبة وتطورها إلى مفاهيم البرمجة والتصميم الحاسوبي وهندسة البرمجيات والشبكات والأمان السيبراني.",
    image: "img/blog/blog_image.png",
  },
];
// Function to create a post element
function createPostElement(post) {
  let postElement = document.createElement("a");
  postElement.className = "post-card";
  postElement.href = "#";

  postElement.innerHTML = `
        <img src="${post.image}" alt="post" />
        <div class="post-content">
          <div class="top-content">
            <div class="">
              <h3 class="post-title">${post.title}</h3>
              <span class="post-cat">${post.category}</span>
            </div>
            <div>
              <h4 class="post-author">${post.author}</h4>
              <span class="post-date">${post.date} <img src="img/blog/clock.png" /></span>
            </div>
          </div>
          <p>${post.content}</p>
        </div>
      `;

  return postElement;
}

let container = document.querySelector(".posts");

let itemsPerPage = 5;

let currentPosts = [...posts]; // Posts for the current view

let totalPages = Math.ceil(posts.length / itemsPerPage);
let currentPage = 1;

// Function to display items for a specific page
function showPage(page) {
  let start = (page - 1) * itemsPerPage;
  let end = start + itemsPerPage;
  let pageItems = currentPosts.slice(start, end);

  container.innerHTML = "";

  // Check if there are any posts
  if (pageItems.length === 0) {
    // If not, append a "No posts found" message
    container.innerHTML = "<p>No posts found</p>";
  } else {
    // If there are posts, append them
    for (let post of pageItems) {
      let postElement = createPostElement(post);
      container.appendChild(postElement);
    }
  }

  // Update current page
  currentPage = page;

  // Update pagination
  updatePagination();
}
// Function to update pagination
function updatePagination() {
  let pagination = document.querySelector(".pagination");

  // Check if the total number of posts is less than or equal to the number of items per page
  if (currentPosts.length <= itemsPerPage) {
    pagination.style.display = "none";
  } else {
    pagination.style.display = "";

    // Remove existing page links
    let pageLinks = pagination.querySelectorAll("a:not(.chevron)");
    pageLinks.forEach((link) => link.remove());

    // Add new page links
    for (let i = 1; i <= totalPages; i++) {
      let link = document.createElement("a");
      link.href = "#";
      link.textContent = i;
      if (i === currentPage) {
        link.className = "active";
      }
      link.addEventListener("click", function (e) {
        e.preventDefault();
        showPage(i);
      });

      pagination.insertBefore(link, pagination.querySelector(".chevron_right"));
    }

    // Disable or enable chevrons
    let chevronLeft = pagination.querySelector(".chevron_left");
    let chevronLeftDouble = pagination.querySelector(".chevron_left_double");
    let chevronRight = pagination.querySelector(".chevron_right");
    let chevronRightDouble = pagination.querySelector(".chevron_right_double");

    chevronLeft.classList.toggle("disabled", currentPage === 1);
    chevronLeftDouble.classList.toggle("disabled", currentPage === 1);
    chevronRight.classList.toggle("disabled", currentPage === totalPages);
    chevronRightDouble.classList.toggle("disabled", currentPage === totalPages);
  }
}
// Add event listeners to chevrons
document.querySelector(".chevron_left").addEventListener("click", function (e) {
  e.preventDefault();
  if (currentPage > 1) {
    showPage(currentPage - 1);
  }
});

document
  .querySelector(".chevron_left_double")
  .addEventListener("click", function (e) {
    e.preventDefault();
    showPage(1);
  });

document
  .querySelector(".chevron_right")
  .addEventListener("click", function (e) {
    e.preventDefault();
    if (currentPage < totalPages) {
      showPage(currentPage + 1);
    }
  });

document
  .querySelector(".chevron_right_double")
  .addEventListener("click", function (e) {
    e.preventDefault();
    showPage(totalPages);
  });

// Initial page display
showPage(1);
// Get the search input and button
let searchInput = document.querySelector(".search input");
let searchButton = document.querySelector(".search button");
let serachForm = document.querySelector(".search");
serachForm.addEventListener("submit", function (e) {
  e.preventDefault();
});
searchButton.addEventListener("click", function () {
  let searchTerm = searchInput.value.trim();
  let filteredPosts = posts.filter((post) => post.title.includes(searchTerm));
  currentPosts = filteredPosts; // Update currentPosts
  totalPages = Math.ceil(currentPosts.length / itemsPerPage);
  currentPage = 1;
  showPage(1);
});
